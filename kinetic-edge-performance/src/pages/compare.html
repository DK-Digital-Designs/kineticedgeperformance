<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Similar Clients — Gallery</title>
    <style>
        :root {
            --bg: #0b0b0f;
            --text: rgba(255, 255, 255, 0.92);
            --muted: rgba(255, 255, 255, 0.68);
            --card: rgba(255, 255, 255, 0.06);
            --stroke: rgba(255, 255, 255, 0.12);
            --accent: #f2b521;
            --radius: 18px;
        }
        * { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            background: radial-gradient(900px 500px at 20% -10%, rgba(242,181,33,0.14), transparent 55%),
            linear-gradient(180deg, var(--bg), #07070b);
            color: var(--text);
        }
        a { color: inherit; text-decoration: none; }
        .container {
            width: min(1120px, calc(100% - 2rem));
            margin: 0 auto;
            padding: 3rem 0 5rem;
        }
        h1 { margin: 0 0 0.5rem; letter-spacing: -0.02em; }
        p { margin: 0 0 1.5rem; color: var(--muted); max-width: 75ch; }

        .grid {
            display: grid;
            gap: 1.1rem;
            grid-template-columns: 1fr;
        }
        @media (min-width: 860px) {
            .grid { grid-template-columns: repeat(3, 1fr); }
        }

        .card {
            border-radius: var(--radius);
            background: linear-gradient(180deg, rgba(255,255,255,0.07), rgba(255,255,255,0.04));
            border: 1px solid var(--stroke);
            padding: 1.1rem;
            overflow: hidden;
        }
        .card-top {
            display: grid;
            gap: 0.4rem;
            margin-bottom: 0.9rem;
        }
        .name {
            font-weight: 750;
            font-size: 1.05rem;
        }
        .url {
            color: var(--muted);
            font-size: 0.92rem;
            word-break: break-word;
        }
        .actions {
            display: flex;
            gap: 0.6rem;
            flex-wrap: wrap;
            margin-top: 0.8rem;
        }
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.7rem 0.9rem;
            border-radius: 14px;
            border: 1px solid rgba(255,255,255,0.14);
            background: rgba(255,255,255,0.04);
            color: rgba(255,255,255,0.92);
            cursor: pointer;
            font-weight: 650;
        }
        .btn:hover { border-color: rgba(255,255,255,0.22); background: rgba(255,255,255,0.06); }
        .btn-primary {
            background: linear-gradient(180deg, rgba(242,181,33,0.95), rgba(242,181,33,0.75));
            border-color: rgba(242,181,33,0.65);
            color: rgba(10,10,14,0.96);
        }

        .thumbs {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.6rem;
            margin-top: 0.9rem;
        }
        .thumb {
            aspect-ratio: 16 / 10;
            border-radius: 14px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.12);
            background: rgba(255,255,255,0.03);
        }
        .thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .thumb.empty {
            display: grid;
            place-items: center;
            color: rgba(255,255,255,0.55);
            font-size: 0.9rem;
        }

        /* Dialog / Lightbox */
        dialog {
            border: none;
            padding: 0;
            background: transparent;
            max-width: 980px;
            width: min(980px, calc(100% - 1.2rem));
        }
        dialog::backdrop { background: rgba(0,0,0,0.72); }
        .modal {
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.14);
            background: rgba(12,12,18,0.92);
            overflow: hidden;
        }
        .modal-head {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 0.8rem;
            padding: 0.9rem 1rem;
            border-bottom: 1px solid rgba(255,255,255,0.10);
        }
        .modal-title {
            display: grid;
            gap: 0.1rem;
        }
        .modal-title strong { font-size: 1rem; }
        .modal-title span { color: var(--muted); font-size: 0.9rem; }
        .icon-btn {
            border: 1px solid rgba(255,255,255,0.14);
            background: rgba(255,255,255,0.04);
            border-radius: 12px;
            padding: 0.55rem 0.7rem;
            cursor: pointer;
            color: rgba(255,255,255,0.9);
        }
        .modal-body {
            display: grid;
            grid-template-columns: 1fr;
        }
        .viewer {
            position: relative;
            background: rgba(0,0,0,0.22);
        }
        .viewer img {
            width: 100%;
            height: min(62vh, 560px);
            object-fit: contain;
            display: block;
        }
        .viewer-controls {
            position: absolute;
            inset: auto 0 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.9rem;
            background: linear-gradient(180deg, transparent, rgba(0,0,0,0.55));
        }
        .viewer-controls .btn {
            padding: 0.6rem 0.8rem;
            border-radius: 12px;
        }
        .counter { color: rgba(255,255,255,0.8); font-weight: 650; }

        .modal-thumbs {
            padding: 0.9rem;
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 0.55rem;
            border-top: 1px solid rgba(255,255,255,0.10);
        }
        @media (max-width: 700px) {
            .modal-thumbs { grid-template-columns: repeat(4, 1fr); }
        }
        .modal-thumb {
            aspect-ratio: 16 / 10;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.12);
            background: rgba(255,255,255,0.03);
            cursor: pointer;
            opacity: 0.82;
        }
        .modal-thumb.active {
            outline: 2px solid rgba(242,181,33,0.75);
            opacity: 1;
        }
        .modal-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
    </style>
</head>

<body>
<div class="container">
    <h1>Similar Clients / Competitors</h1>
    <p>
        Below are some websites in a similar field. As you can see, many are dated, visually unappealing, and uninspiring. While the priority is still to inform and convert users, we can achieve that with a far stronger, more premium aesthetic.
    </p>

    <div class="grid" id="siteGrid"></div>
</div>

<!-- Lightbox -->
<dialog id="galleryDialog" aria-label="Gallery dialog">
    <div class="modal">
        <div class="modal-head">
            <div class="modal-title">
                <strong id="dlgName">Gallery</strong>
                <span id="dlgUrl">—</span>
            </div>
            <button class="icon-btn" type="button" id="dlgClose" aria-label="Close">Close</button>
        </div>

        <div class="modal-body">
            <div class="viewer">
                <img id="dlgImage" alt="" />
                <div class="viewer-controls">
                    <button class="btn" type="button" id="prevBtn">Prev</button>
                    <div class="counter" id="dlgCounter">1 / 1</div>
                    <button class="btn" type="button" id="nextBtn">Next</button>
                </div>
            </div>

            <div class="modal-thumbs" id="dlgThumbs"></div>
        </div>
    </div>
</dialog>

<script>
    /**
     * Add your screenshots like:
     * public/assets/competitors/comra/1.png
     * public/assets/competitors/comra/2.png
     * etc
     *
     * Then reference them using relative paths below.
     */
    const sites = [
        {
            id: "comra",
            name: "Comra Therapy",
            url: "https://www.comra-therapy.co.za/",
            images: [
                "/assets/temp-images/1.png",
                "/assets/temp-images/2.png",
            ],
        },
        {
            id: "lenmed",
            name: "Lenmed",
            url: "https://www.lenmed.co.za/",
            images: [
                "/assets/temp-images/2.png",
                "/assets/temp-images/3.png",
            ],
        },
        {
            id: "williamslocke",
            name: "Williams Locke Physio (Sports Physiotherapy)",
            url: "https://williamslockephysio.co.za/service/sports-physiotherapy/",
            images: [
                "/assets/temp-images/4.png",
                "/assets/temp-images/5.png",
                "/assets/temp-images/6.png",
            ],
        },
    ];

    const siteGrid = document.getElementById("siteGrid");

    const dlg = document.getElementById("galleryDialog");
    const dlgName = document.getElementById("dlgName");
    const dlgUrl = document.getElementById("dlgUrl");
    const dlgClose = document.getElementById("dlgClose");
    const dlgImage = document.getElementById("dlgImage");
    const dlgCounter = document.getElementById("dlgCounter");
    const dlgThumbs = document.getElementById("dlgThumbs");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    let currentSite = null;
    let currentIndex = 0;

    function el(tag, attrs = {}, children = []) {
        const n = document.createElement(tag);
        Object.entries(attrs).forEach(([k, v]) => {
            if (k === "class") n.className = v;
            else if (k.startsWith("on") && typeof v === "function") n.addEventListener(k.slice(2), v);
            else n.setAttribute(k, v);
        });
        children.forEach((c) => n.appendChild(typeof c === "string" ? document.createTextNode(c) : c));
        return n;
    }

    function renderCards() {
        siteGrid.innerHTML = "";

        sites.forEach((s) => {
            const thumbNodes = [];
            const thumbs = (s.images || []).slice(0, 3);

            if (thumbs.length === 0) {
                for (let i = 0; i < 3; i++) {
                    thumbNodes.push(el("div", { class: "thumb empty" }, ["No image"]));
                }
            } else {
                for (let i = 0; i < 3; i++) {
                    const src = thumbs[i];
                    if (!src) thumbNodes.push(el("div", { class: "thumb empty" }, ["No image"]));
                    else {
                        thumbNodes.push(
                            el("div", { class: "thumb" }, [
                                el("img", { src, alt: `${s.name} screenshot ${i + 1}`, loading: "lazy" }),
                            ])
                        );
                    }
                }
            }

            const card = el("article", { class: "card" }, [
                el("div", { class: "card-top" }, [
                    el("div", { class: "name" }, [s.name]),
                    el("div", { class: "url" }, [s.url]),
                    el("div", { class: "actions" }, [
                        el("a", { class: "btn", href: s.url, target: "_blank", rel: "noreferrer" }, ["Visit site"]),
                        el(
                            "button",
                            {
                                class: "btn btn-primary",
                                type: "button",
                                onclick: () => openGallery(s),
                            },
                            ["View gallery"]
                        ),
                    ]),
                ]),
                el("div", { class: "thumbs" }, thumbNodes),
            ]);

            siteGrid.appendChild(card);
        });
    }

    function setGalleryIndex(idx) {
        if (!currentSite) return;
        const imgs = currentSite.images || [];
        if (imgs.length === 0) return;

        currentIndex = (idx + imgs.length) % imgs.length;

        const src = imgs[currentIndex];
        dlgImage.src = src;
        dlgImage.alt = `${currentSite.name} screenshot ${currentIndex + 1}`;
        dlgCounter.textContent = `${currentIndex + 1} / ${imgs.length}`;

        // thumbs
        [...dlgThumbs.children].forEach((c, i) => c.classList.toggle("active", i === currentIndex));
    }

    function openGallery(site) {
        currentSite = site;
        currentIndex = 0;

        dlgName.textContent = site.name;
        dlgUrl.textContent = site.url;

        // render thumb strip
        dlgThumbs.innerHTML = "";
        const imgs = site.images || [];

        imgs.forEach((src, i) => {
            const t = el(
                "div",
                {
                    class: "modal-thumb",
                    role: "button",
                    tabindex: "0",
                    onclick: () => setGalleryIndex(i),
                },
                [el("img", { src, alt: `${site.name} thumbnail ${i + 1}`, loading: "lazy" })]
            );

            t.addEventListener("keydown", (e) => {
                if (e.key === "Enter" || e.key === " ") setGalleryIndex(i);
            });

            dlgThumbs.appendChild(t);
        });

        // If no images, show a simple state
        if (imgs.length === 0) {
            dlgImage.removeAttribute("src");
            dlgImage.alt = "";
            dlgCounter.textContent = "0 / 0";
            prevBtn.disabled = true;
            nextBtn.disabled = true;
        } else {
            prevBtn.disabled = false;
            nextBtn.disabled = false;
            setGalleryIndex(0);
        }

        dlg.showModal();
    }

    dlgClose.addEventListener("click", () => dlg.close());
    dlg.addEventListener("click", (e) => {
        // click outside modal to close
        const rect = dlg.querySelector(".modal").getBoundingClientRect();
        const inModal =
            e.clientX >= rect.left && e.clientX <= rect.right && e.clientY >= rect.top && e.clientY <= rect.bottom;
        if (!inModal) dlg.close();
    });

    prevBtn.addEventListener("click", () => setGalleryIndex(currentIndex - 1));
    nextBtn.addEventListener("click", () => setGalleryIndex(currentIndex + 1));

    window.addEventListener("keydown", (e) => {
        if (!dlg.open) return;
        if (e.key === "Escape") dlg.close();
        if (e.key === "ArrowLeft") setGalleryIndex(currentIndex - 1);
        if (e.key === "ArrowRight") setGalleryIndex(currentIndex + 1);
    });

    renderCards();
</script>
</body>
</html>
